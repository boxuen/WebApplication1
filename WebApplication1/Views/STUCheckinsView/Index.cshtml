@model IEnumerable<WebApplication1.Models.Checkin>

@{
    ViewBag.role = Session["Role_ID"];
    // ViewBag.show = Session["show"];
    ViewBag.Name = Session["Username"];
    ViewBag.Title = "Index";
    ViewBag.account = Session["account"];
    ViewBag.msg = Session["msg"];

}






<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style>
        * {
            font-family: "標楷體";
        }
        table {
            margin: 0 auto;
        }
        .table td,.info td{
            text-align:center;
        }
        table, th, td {
            border: 2px solid black;
            border-collapse: collapse;
            align-items:center;
            font-size:18px;
        }
        .info2 td {
            border: none;
        }

    </style>
</head>
<body>
    <main class="main" id="main">
        
        @*<p>
            @Html.ActionLink("新增", "Create")
        </p>*@

        <div id="card" class="id">
            @*<button class="btn btn-success" onclick="history.go(-1)"><i class="ri-delete-back-2-fill"></i> 返回</button>*@
            <table>
                <p style=" font-size:30px;text-align:center;">樹德科技大學<b>勞僱型兼任助理出勤</b>紀錄簽到表</p>
                <tr>
                <tr class="info2">
                    <td colspan="4"><p>@DateTime.Now.Year.ToString() 年     @DateTime.Now.Month.ToString() 月</p></td>
                    <td colspan="4"><p>單位：資訊管理系</p></td>
                </tr>
                <tr class="info">
                    <td colspan=""><p>姓名</p></td>
                    <td colspan="2"><p>@ViewBag.Name</p></td>
                    <td><p>學號</p></td>
                    <td colspan="3"><p>@ViewBag.account</p></td>
                </tr>


                <tr class="table">
                    <td rowspan="2">日期</td>
                    <td rowspan="2">星期</td>
                    <td rowspan="2">時間</td>
                    <td rowspan="2">時數</td>
                    <td rowspan="2">工作內容</td>
                    <td colspan="2">學生簽章</td>
                </tr>
                <tr class="table">
                    <td>上班</td>
                    <td>下班</td>
                </tr>

                @foreach (var item in Model)
                {
                    if (ViewBag.account == item.AccountData.Account.ToString())
                    {
                        if (item.Work_Date.Value.Month == DateTime.Now.Month)
                        {
                            <tr class="table">
                                <td> @Html.DisplayFor(modelItem => item.Work_Date.Value.Day)</td>
                                <td>@Html.DisplayFor(modelItem => item.Work_Date.Value.DayOfWeek)</td>
                                <td>
                                    <u>@Html.DisplayFor(modelItem => item.Work_Date.Value.Hour)</u> ：<u>@Html.DisplayFor(modelItem => item.Work_Date.Value.Minute)</u> <br />
                                    |<br />
                                     <u>@Html.DisplayFor(modelItem => item.Getoff_Date.Value.Hour)</u> ：<u>@Html.DisplayFor(modelItem => item.Getoff_Date.Value.Minute)</u> 
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.time)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Note)
                                </td>

                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </td>

                            </tr>
                        }


                    }
                }

                <tr>
                    <td colspan="7"><p>合計：()時數</p></td>
                </tr>
                <tr>
                    <td colspan="3">單位承辦人簽章：<img src="~/img/img.png" / width="140px"><br /><span style="color:blue;font-weight:bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@DateTime.Now.ToString("yyy.MM.dd")</span></td>
                    <td colspan="4">單位主管簽章：</td>
                </tr>






            </table>
        </div>
    @*<div class="card" id="card">
        <table class="table table-striped table-bordered">
            <tr> 樹德科技大學<b>勞僱型兼任助理出勤</b>紀錄表</tr>
            <tr>
                <th>
                    上班時間
                </th>
                <th>
                    下班時間
                </th>
                <th>
                    時數
                </th>
                <th>
                    備註
                </th>
                <th>
                    打卡人帳號
                </th>
                <th>資料操作</th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Work_Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Getoff_Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.time)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Note)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AccountData.Account)
                    </td>
                    <td>
                        @Html.ActionLink("編輯", "Edit", new { id = item.ID }, new { @class = "btn btn-success px-2" }) |
                        @Html.ActionLink("刪除", "Delete", new { id = item.ID }, new { @class = "btn btn-danger px-2" })
                    </td>
                </tr>
            }

        </table>
    </div>*@
        

    </main>
    
</body>
</html>
